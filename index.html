<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Octopush : Open Source Octopush project" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Octopush</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/olx-inc/octopush">View on GitHub</a>

          <h1 id="project_title">Octopush</h1>
          <h2 id="project_tagline">Open Source Octopush project</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/olx-inc/octopush/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/olx-inc/octopush/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>
<a name="welcome-to-octopush-project" class="anchor" href="#welcome-to-octopush-project"><span class="octicon octicon-link"></span></a>Welcome to Octopush project</h3>

<p>Octopush is a project born out of the necessity to orchestrate Our Jenkins Deployment pipeline at OLX. We started up connecting Jenkins CI Servers with Jenkins RM Server in order to keep things separate, clean and scalable. We needed to be able to request a Deployment automatically from a Jenkins CI Server (managed by a certain Dev Team) to the Release Management Jenkins (managed by RM Team) once the builds where OK. There is no native or pretty way of doing this, we just curl from one Jenkins to the other like:</p>

<pre><code>curl --user $JENKINS_USER:$API_TOKEN 
      "http://jenkins-rm.olx.com/job/Deploy_Component/buildWithParameters?env=Staging&amp;repo=CompX&amp;revision=1.0.0"
</code></pre>

<p>and checked out the response using Jenkins API like:</p>

<pre><code>curl "http://jenkins-rm.olx.com/job/Deploy_Component/lastBuild/api/json"
</code></pre>

<p>This was ok for a while, but then we needed better arbitration and visibility on how to handle a long queue of awaiting components to deploy.
That's how Octopush was born.</p>

<h3>
<a name="octopush-orchestration-engine" class="anchor" href="#octopush-orchestration-engine"><span class="octicon octicon-link"></span></a>Octopush Orchestration engine</h3>

<p>Octopush handles a Queue were every request waits for its turn to be deployed, available components to be deployed are configured on src/config/config.yml where you also specify a groupId. This groupId works as a tier identification, front-end components use one, backend use another. This is used by Octopush to identify dependecies and be able to parallelize non-dependant components (on the same group) and serialize dependant ones (This is an improvement point, dependency graph would be much better).</p>
<pre><code>jenkins:
modules: 
    frontend-project1: 1
    frontend-project2: 1
    middle-ware: 2
    backend-project: 3
</code></pre>

<h3>
<a name="jenkins-integration" class="anchor" href="#jenkins-integration"><span class="octicon octicon-link"></span></a>Jenkins integration</h3>

<p>For Jenkins integration there are a couple of configuration parameters:</p>

<pre><code>jenkins:
    host:     http://jenkins-rm.olx.com.ar
    user:     jenkins-user
    pass:     password
    jobs: 
        prefix: 'Push_Staging_'
        live.prefix: 'Push_LIVE_'
        notifications: 'Octopush_Notification'
</code></pre>

<p>The firsts params are pretty clear, they configure URL and credentials for Jenkins RM.
The prefix ones are used by Octopush to call the proper Jenkins RM job, it will concat the requested module name like: 'Push_Staging_Component1', so as to use convention over configuration.</p>

<h3>
<a name="authors-and-contributors" class="anchor" href="#authors-and-contributors"><span class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>Diego Garber (<a href="https://github.com/diego-garber" class="user-mention">@diego-garber</a>), Nicolas Paez (<a href="https://github.com/nicopaez" class="user-mention">@nicopaez</a>), Osvaldo Toja Suarez (<a href="https://github.com/osvaldotoja-olx" class="user-mention">@osvaldotoja-olx</a>), German Scoglio (<a href="https://github.com/german-olx" class="user-mention">@german-olx</a>)</p>

<h3>
<a name="support-or-contact" class="anchor" href="#support-or-contact"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Please don't hesitate to contact us</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Octopush maintained by <a href="https://github.com/olx-inc">olx-inc</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
